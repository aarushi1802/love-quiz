<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Love Quiz ğŸ§¡</title>
<script src="https://cdn.tailwindcss.com"></script>

<style>
body{
background: linear-gradient(135deg,#ff9a3c,#ff6a00,#ffb347);
overflow:hidden;
}

@keyframes fall{
to{transform:translateY(120vh) rotate(360deg);}
}
.confetti{
position:fixed;
width:10px;
height:10px;
border-radius:50%;
opacity:.9;
animation:fall linear;
}

/* Floating black hearts (background stays cute) */
.heart{
position:fixed;
bottom:-20px;
color:#000;
font-size:14px;
opacity:1;
animation:float 9s linear infinite;
pointer-events:none;
}

@keyframes float{
to{transform:translateY(-120vh);opacity:0}
}

/* Half heart styling */
#leftHalf{
clip-path: inset(0 50% 0 0);
transition: left .7s ease;
}

#rightHalf{
clip-path: inset(0 0 0 50%);
}
</style>
</head>

<body class="min-h-screen flex items-center justify-center">

<div id="app" class="bg-white rounded-2xl shadow-xl w-[90%] max-w-md p-6 text-center relative z-10">

<!-- â¤ï¸ HEART MERGE BAR -->
<div class="relative w-64 mx-auto mb-5">

<div class="h-3 bg-gray-200 rounded-full overflow-hidden">
<div id="fillBar" class="h-full bg-green-400 w-0 transition-all duration-700"></div>
</div>

<span id="leftHalf" class="absolute -top-6 left-0 text-3xl">â¤ï¸</span>
<span id="rightHalf" class="absolute -top-6 right-0 text-3xl">â¤ï¸</span>

</div>

<h2 id="question" class="text-xl font-semibold mb-5"></h2>

<div id="options" class="space-y-3"></div>

<div id="message" class="mt-4 hidden rounded-lg p-3 font-semibold"></div>

</div>

<script>
/* floating hearts background */
setInterval(()=>{
let h=document.createElement("div")
h.className="heart"
h.innerText="ğŸ–¤"
h.style.left=Math.random()*100+"vw"
h.style.fontSize=10+Math.random()*10+"px"
document.body.appendChild(h)
setTimeout(()=>h.remove(),9000)
},500)

/* QUIZ DATA */
const quiz=[
{q:"Where did you propose me for the first time?",o:["Laundry","Cricket Ground","Southern Stories","Outside Control Room"],c:1},
{q:"When did we have our first sex?",o:["6 Dec","9 Dec","28 Feb","10 Nov"],c:0},
{q:"What was the first perfume I gifted you?",o:["Tux","Ajmal","Engage","Ittar"],c:3},
{q:"What was the flavour of your first birthday cake with me?",o:["Chocolate Truffle","Red Velvet","Blueberry","Truffle Red Velvet"],c:2}
]

const correctMsgs=[
"YAYYYğŸ˜ That's my boy!",
"Awww you rememberedğŸ¥¹",
"Perfect answerğŸ˜˜",
"Tu sabse acha haiâ¤ï¸"
]

const wrongMsgs=[
"Main tera muh tod dungi",
"Mr. Ananya MishrağŸ˜¡",
"I'll kill you bitch!!",
"Aeinn...firse galat answerğŸ˜­"
]

let i=0,score=0

function updateBar(){
const percent=(score/quiz.length)*100

document.getElementById("fillBar").style.width = percent+"%"
document.getElementById("leftHalf").style.left = percent+"%"

if(score===quiz.length){
document.getElementById("rightHalf").style.display="none"
document.getElementById("leftHalf").style.clipPath="none"
}
}

function load(){
document.getElementById("question").innerText=quiz[i].q
document.getElementById("message").classList.add("hidden")

let html=""
quiz[i].o.forEach((x,j)=>{
html+=`<button onclick="check(${j})"
class="w-full border border-orange-400 py-2 rounded-xl hover:bg-orange-500 hover:text-white transition">${x}</button>`
})
document.getElementById("options").innerHTML=html
}

function showMsg(t,good){
let m=document.getElementById("message")
m.classList.remove("hidden")
m.className=good
?"mt-4 rounded-lg p-3 bg-green-100 text-green-700 font-semibold"
:"mt-4 rounded-lg p-3 bg-red-100 text-red-700 font-semibold"
m.innerText=t
}

function check(n){
if(n===quiz[i].c){
score++
updateBar()
showMsg(correctMsgs[i],true)
setTimeout(()=>{i++; i<quiz.length?load():finalScreen()},1100)
}else{
showMsg(wrongMsgs[Math.floor(Math.random()*wrongMsgs.length)],false)
}
}

function finalScreen(){
document.getElementById("app").innerHTML=`
<h1 class="text-2xl font-semibold text-orange-600 mb-6">
Will you be my Valentine? ğŸ’–
</h1>

<p id="noMsg" class="mb-4"></p>

<div class="flex justify-center gap-6">
<button id="yesBtn" onclick="yesClick()" class="bg-green-500 text-white px-7 py-3 rounded-xl transition-all text-lg">YES â¤ï¸</button>
<button id="noBtn" onclick="noClick()" class="bg-red-500 text-white px-7 py-3 rounded-xl transition-all text-lg">NO ğŸ˜</button>
</div>
`
}

let noCount=0
function noClick(){
const msgs=[
"You already are my Valentine ğŸ˜Œ",
"Nice try ğŸ˜‚",
"NO is disappearing ğŸ˜ˆ",
"Bye bye NO ğŸ˜¤"
]

document.getElementById("noMsg").innerHTML=
`<div class="bg-red-100 text-red-700 p-3 rounded-lg font-semibold">${msgs[Math.min(noCount,3)]}</div>`

let y=document.getElementById("yesBtn")
let n=document.getElementById("noBtn")

noCount++
y.style.transform=`scale(${1+noCount*0.15})`
n.style.transform=`scale(${1-noCount*0.25})`
if(noCount>=4)n.style.opacity=0
}

function yesClick(){
slowConfetti()
document.getElementById("app").innerHTML=`
<div class="bg-white rounded-2xl shadow-xl p-8 text-center">
<h2 class="text-3xl font-semibold text-orange-600 mb-3">
ğŸ‰ Yay! You said YES â¤ï¸
</h2>
<p class="text-gray-600 text-lg">
Thank you for being in my life â€” just you existing, being around me, loving me â€” makes my life happier, brighter, and more meaningful.My life was normal before youâ€¦ but since you came into it, everything feels special.ğŸ’–
</p>
</div>
`
}
function slowConfetti(){
const colors=["#ff0000","#00ff00","#0000ff","#ffff00","#ff00ff","#00ffff","#ffffff","#ffd700"]

for(let i=0;i<180;i++){
let c=document.createElement("div")
c.className="confetti"
c.style.left=Math.random()*100+"vw"
c.style.width=c.style.height=6+Math.random()*10+"px"
c.style.top="-10px"
c.style.background=colors[Math.floor(Math.random()*colors.length)]
c.style.animationDuration=7+Math.random()*5+"s"
document.body.appendChild(c)
setTimeout(()=>c.remove(),13000)
}
}

load()
</script>

</body>

</html>
